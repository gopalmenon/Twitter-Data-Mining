<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  </head>
  <body>
    <div id="map_canvas" style="display: block; height: 600px;">
    </div>
<script src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>
<script>
  var map, polys = [];
  var mapOptions = {
    zoom: 5,
    center: new google.maps.LatLng(42.16,-100.72),
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };
  map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);
  jQuery.get("states.xml", {}, function(data) {
    jQuery(data).find("state").each(function() {
      var colour = this.getAttribute('colour');
      var points = this.getElementsByTagName("point");
      var pts = [];
      for (var i = 0; i < points.length; i++) {
        pts[i] = new google.maps.LatLng(parseFloat(points[i].getAttribute("lat")), parseFloat(points[i].getAttribute("lng")));
      }
      var poly = new google.maps.Polygon({
        paths: pts,
        strokeColor: '#000000',
        strokeOpacity: 1,
        fillColor: colour,
        fillOpacity: 0.35
      });
      polys.push(poly);
      poly.setMap(map);
    });
  });
</script>
</body>
</html>




